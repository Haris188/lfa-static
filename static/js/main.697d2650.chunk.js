(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{338:function(e,t,a){e.exports=a(462)},462:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=a(15);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(343);var l=a(12),s=a(531),u=a(495),m=a(536),p=Object(u.a)((function(){return Object(m.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),d=function(){return p(),null},f=a(78);f.Chart.helpers.extend(f.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,a,n,r,c,o,i,l=this._chart.ctx,s=this._view,u=s.borderWidth,m=this._chart.config.options.cornerRadius;if(m<0&&(m=0),"undefined"===typeof m&&(m=0),s.horizontal?(e=s.base,t=s.x,a=s.y-s.height/2,n=s.y+s.height/2,r=t>e?1:-1,c=1,o=s.borderSkipped||"left"):(e=s.x-s.width/2,t=s.x+s.width/2,a=s.y,r=1,c=(n=s.base)>a?1:-1,o=s.borderSkipped||"bottom"),u){var p=Math.min(Math.abs(e-t),Math.abs(a-n)),d=(u=u>p?p:u)/2,f=e+("left"!==o?d*r:0),b=t+("right"!==o?-d*r:0),g=a+("top"!==o?d*c:0),h=n+("bottom"!==o?-d*c:0);f!==b&&(a=g,n=h),g!==h&&(e=f,t=b)}l.beginPath(),l.fillStyle=s.backgroundColor,l.strokeStyle=s.borderColor,l.lineWidth=u;var v=[[e,n],[e,a],[t,a],[t,n]],E=["bottom","left","top","right"].indexOf(o,0);function x(e){return v[(E+e)%4]}-1===E&&(E=0);var j=x(0);l.moveTo(j[0],j[1]);for(var y=1;y<4;y+=1){j=x(y);var k=y+1;4===k&&(k=0);var O=v[2][0]-v[1][0],w=v[0][1]-v[1][1],T=v[1][0],C=v[1][1];if((i=m)>Math.abs(w)/2&&(i=Math.floor(Math.abs(w)/2)),i>Math.abs(O)/2&&(i=Math.floor(Math.abs(O)/2)),w<0){var S=T,N=T+O,U=C+w,P=C+w,B=T,W=T+O,D=C,I=C;l.moveTo(B+i,D),l.lineTo(W-i,I),l.quadraticCurveTo(W,I,W,I-i),l.lineTo(N,P+i),l.quadraticCurveTo(N,P,N-i,P),l.lineTo(S+i,U),l.quadraticCurveTo(S,U,S,U+i),l.lineTo(B,D-i),l.quadraticCurveTo(B,D,B+i,D)}else if(O<0){var F=T+O,A=T,L=C,q=C,M=T+O,z=T,R=C+w,H=C+w;l.moveTo(M+i,R),l.lineTo(z-i,H),l.quadraticCurveTo(z,H,z,H-i),l.lineTo(A,q+i),l.quadraticCurveTo(A,q,A-i,q),l.lineTo(F+i,L),l.quadraticCurveTo(F,L,F,L+i),l.lineTo(M,R-i),l.quadraticCurveTo(M,R,M+i,R)}else l.moveTo(T+i,C),l.lineTo(T+O-i,C),l.quadraticCurveTo(T+O,C,T+O,C+i),l.lineTo(T+O,C+w-i),l.quadraticCurveTo(T+O,C+w,T+O-i,C+w),l.lineTo(T+i,C+w),l.quadraticCurveTo(T,C+w,T,C+w-i),l.lineTo(T,C+i),l.quadraticCurveTo(T,C,T+i,C)}l.fill(),u&&l.stroke()}});var b=a(8),g=a(328),h=(b.a.common.white,b.a.common.white,b.a.indigo[500],b.a.indigo[500],b.a.blueGrey[900],b.a.blueGrey[600],{background:{dark:"#F4F6F8",default:b.a.common.white,paper:b.a.common.white},primary:{main:b.a.indigo[500]},secondary:{main:b.a.indigo[500]},text:{primary:b.a.blueGrey[900],secondary:b.a.blueGrey[600]}}),v=Object(g.a)({palette:h,shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),E=a(9),x=a(314),j=a(532),y=a(537),k=a(53),O=a(501),w=a(465),T=a(535),C=a(503),S=a(498),N=a(499),U=a(500),P=a(21),B=a(4),W=a(464),D=a(497),I=Object(u.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),F=function(e){var t=e.className,a=e.href,n=e.icon,c=e.title,o=e.show,l=Object(P.a)(e,["className","href","icon","title","show"]),s=I();return o?r.a.createElement(W.a,Object.assign({className:Object(B.a)(s.item,t),disableGutters:!0},l),r.a.createElement(D.a,{activeClassName:s.active,className:s.button,component:i.c,to:a},n&&r.a.createElement(n,{className:s.icon,size:"20"}),r.a.createElement("span",{className:s.title},c))):r.a.createElement(r.a.Fragment,null)},A=Object(u.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),L=function(e){var t=e.currentUser,a=e.onMobileClose,c=e.openMobile,o=A(),i=Object(l.f)(),s=[{href:"/app/dashboard",icon:S.a,title:"Dashboard",show:!0},{href:"/app/customers",icon:N.a,title:"Users",show:"admin"===t.role},{href:"/app/projects",icon:U.a,title:"Projects",show:!0}];Object(n.useEffect)((function(){c&&a&&a()}),[i.pathname]);var u=r.a.createElement(j.a,{height:"100%",display:"flex",flexDirection:"column"},r.a.createElement(j.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2},r.a.createElement(y.a,null,t.name[0]),r.a.createElement(k.a,{className:o.name,color:"textPrimary",variant:"h5"},t.name),r.a.createElement(k.a,{color:"textSecondary",variant:"body2"},t.role)),r.a.createElement(O.a,null),r.a.createElement(j.a,{p:2},r.a.createElement(w.a,null,s.map((function(e){return r.a.createElement(F,{href:e.href,key:e.title,title:e.title,icon:e.icon,show:e.show})})))),r.a.createElement(j.a,{flexGrow:1}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{lgUp:!0},r.a.createElement(C.a,{anchor:"left",classes:{paper:o.mobileDrawer},onClose:a,open:c,variant:"temporary"},u)),r.a.createElement(T.a,{mdDown:!0},r.a.createElement(C.a,{anchor:"left",classes:{paper:o.desktopDrawer},open:!0,variant:"persistent"},u)))};L.defaultProps={onMobileClose:function(){},openMobile:!1};var q=L,M=a(5),z=a.n(M),R=a(7),H=a(506),G=a(507),V=a(508),_=a(316),Y=a.n(_),$=a(315),J=a.n($),Z=function(e){return r.a.createElement("img",Object.assign({alt:"Logo",src:"/static/logo.svg",width:"50em"},e))},K=a(107),Q=a.n(K);Q.a.defaults.withCredentials=!0;var X=function(){var e=Object(R.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://bug-api.hariscodes.com",e.prev=1,e.next=4,Q.a.get("".concat("https://bug-api.hariscodes.com").concat(t));case 4:if(a=e.sent,!(n=a.data)){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",{success:!1,data:"Data from api is null"});case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",{success:!1,data:"Data from api is null"});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();Q.a.defaults.withCredentials=!0;var ee=function(){var e=Object(R.a)(z.a.mark((function e(t,a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://bug-api.hariscodes.com",e.prev=1,e.next=4,Q.a.post("".concat("https://bug-api.hariscodes.com").concat(t),a);case 4:if(n=e.sent,!(r=n.data)){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",{success:!1,data:"Data from api is null"});case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",{success:!1,data:"Data from api is null"});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),te={signin:function(){var e=Object(R.a)(z.a.mark((function e(t,a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Server is running on Heroku. It will take about 30 sec for first sign in"),n={email:t,password:a},e.next=4,ee("/login",n);case 4:return r=e.sent,e.abrupt("return",r.success&&r.data?r:{success:r.data,data:null});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),signup:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/signup",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/removeUser",{deleteeId:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteProject:function(){var e=Object(R.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",{success:!0,data:null});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),attachImgToTicket:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/fileupload",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addCommentToTicket:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/addCommentToTicket",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteTicket:function(e){return{success:!0,data:null}},addNewProject:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/addProject",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addNewTicket:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/addTicket",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),assignUserToTicket:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/setTicketUser",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),completeTicket:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/completeTicket",{ticketId:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("/logout");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},ae=Object(u.a)((function(){return{root:{},avatar:{width:60,height:60}}})),ne=function(e){var t=e.className,a=e.onMobileNavOpen,c=Object(P.a)(e,["className","onMobileNavOpen"]),o=ae(),s=Object(n.useState)([]),u=(Object(E.a)(s,1)[0],Object(l.g)()),m=function(){var e=Object(R.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.logout();case 2:e.sent.success?u("/"):alert("Logout failed");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(H.a,Object.assign({className:Object(B.a)(o.root,t),elevation:0},c),r.a.createElement(G.a,null,r.a.createElement(i.b,{to:"/app/dashboard"},r.a.createElement(Z,null)),r.a.createElement(j.a,{flexGrow:1}),r.a.createElement(V.a,{color:"inherit",onClick:m},r.a.createElement(J.a,null)),r.a.createElement(T.a,{lgUp:!0},r.a.createElement(V.a,{color:"inherit",onClick:a},r.a.createElement(Y.a,null)))))},re=a(31),ce=a(509),oe=a(32);function ie(){var e=Object(re.a)(["\n  height:100%;\n  justify-content:center;\n  align-items: center;\n"]);return ie=function(){return e},e}var le=oe.a.div(ie()),se=function(){return r.a.createElement(le,null,r.a.createElement(ce.a,null))},ue={getAllUsers:function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("/getAllUsers");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllProjects:function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("/getAllProjectsForUser");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getCurrentUserTickets:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/getCurrentUserTickets",{projectId:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getImagesForTicket:function(){var e=Object(R.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/getTicketAttachments",{ticketId:t});case 2:return(a=e.sent).success&&(n=a.success&&a.data.map((function(e){return e.url})),a.data=n),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCommentsForTicket:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/getCommentsForTicket",{ticketId:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getProjectUsersFromApi:function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee("/getUsersForProject",{projectId:t});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllBugStats:function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("/getTicketStats");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getCurrentUser:function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("/getCurrentUser");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},me=function(e){var t=Object(l.g)(),a=Object(n.useState)({loading:!0}),c=Object(E.a)(a,2),o=c[0],i=c[1],s=e.children;console.log("AUTH GATE");var u=function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getCurrentUser();case 2:(t=e.sent)&&t.success&&i(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),o.loading?se:o.loggedIn?r.a.createElement(s,Object.assign({},e,{currentUser:o})):(t("/",{replace:!0}),r.a.createElement(r.a.Fragment,null))},pe=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(x.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),de=function(e){var t=pe(),a=Object(n.useState)(!1),c=Object(E.a)(a,2),o=c[0],i=c[1],s=e.currentUser;return r.a.createElement("div",{className:t.root},r.a.createElement(ne,{onMobileNavOpen:function(){return i(!0)}}),r.a.createElement(q,{onMobileClose:function(){return i(!1)},openMobile:o,currentUser:s}),r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.contentContainer},r.a.createElement("div",{className:t.content},r.a.createElement(l.b,null)))))},fe=function(){return r.a.createElement(me,null,de)},be=Object(u.a)({root:{},toolbar:{height:64}}),ge=function(e){var t=e.className,a=Object(P.a)(e,["className"]),n=be();return r.a.createElement(H.a,Object.assign({className:Object(B.a)(n.root,t),elevation:0},a),r.a.createElement(G.a,{className:n.toolbar},r.a.createElement(i.b,{to:"/app/dashboard"},r.a.createElement(Z,null))))},he=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),ve=function(){var e=he();return r.a.createElement("div",{className:e.root},r.a.createElement(ge,null),r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.contentContainer},r.a.createElement("div",{className:e.content},r.a.createElement(l.b,null)))))},Ee=a(56),xe=a(521),je=a(320),ye=Object(n.forwardRef)((function(e,t){var a=e.children,n=e.title,c=void 0===n?"":n,o=Object(P.a)(e,["children","title"]);return r.a.createElement("div",Object.assign({ref:t},o),r.a.createElement(je.a,null,r.a.createElement("title",null,c)),a)})),ke=a(63),Oe=a.n(ke),we=a(510),Te=a(511),Ce=a(512),Se=a(513),Ne=a(514),Ue=a(515),Pe=a(516),Be=Object(u.a)((function(e){return{root:{},avatar:{marginRight:e.spacing(2)}}})),We=function(e){var t=e.deleteCustomer,a=e.className,n=e.customers,c=Object(P.a)(e,["deleteCustomer","className","customers"]),o=Be();return r.a.createElement(we.a,Object.assign({className:Object(B.a)(o.root,a)},c),r.a.createElement(Oe.a,null,r.a.createElement(j.a,{minWidth:1050},n.length<1?r.a.createElement(k.a,{variant:"body1",style:{marginLeft:"1em"}},"No user available"):r.a.createElement(Te.a,null,r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(Ne.a,null,"Name"),r.a.createElement(Ne.a,null,"Email"),r.a.createElement(Ne.a,null,"Role"),r.a.createElement(Ne.a,null,"Delete"))),r.a.createElement(Ue.a,null,n.map((function(e){return r.a.createElement(Se.a,{hover:!0,key:e.id},r.a.createElement(Ne.a,null,r.a.createElement(j.a,{alignItems:"center",display:"flex"},r.a.createElement(y.a,{className:o.avatar,src:e.avatarUrl},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}(e.name)),r.a.createElement(k.a,{color:"textPrimary",variant:"body1"},e.name))),r.a.createElement(Ne.a,null,e.email),r.a.createElement(Ne.a,null,e.role),r.a.createElement(Ne.a,null,r.a.createElement(V.a,{onClick:function(){t(e.id)}},r.a.createElement(Pe.a,null))))})))))))},De=a(517),Ie=a(518),Fe=a(519),Ae=a(106),Le=a(520),qe=Object(u.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),Me=function(e){var t=e.handleFindChange,a=e.className,n=Object(P.a)(e,["handleFindChange","className"]),c=qe();return r.a.createElement("div",Object.assign({className:Object(B.a)(c.root,a)},n),r.a.createElement(j.a,{mt:3},r.a.createElement(we.a,null,r.a.createElement(De.a,null,r.a.createElement(j.a,{maxWidth:500},r.a.createElement(Ie.a,{onChange:t,fullWidth:!0,InputProps:{startAdornment:r.a.createElement(Fe.a,{position:"start"},r.a.createElement(Ae.a,{fontSize:"small",color:"action"},r.a.createElement(Le.a,null)))},placeholder:"Search customer",variant:"outlined"}))))))},ze=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Re=function(e){var t=ze(),a=e.container;return r.a.createElement(ye,{className:t.root,title:"Customers"},r.a.createElement(xe.a,{maxWidth:!1},r.a.createElement(Me,{handleFindChange:a.searchName}),r.a.createElement(j.a,{mt:3},r.a.createElement(We,{deleteCustomer:a.deleteUser,customers:a.users}))))},He=function(e){var t=Object(n.useState)([]),a=Object(E.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!0),l=Object(E.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)([]),p=Object(E.a)(m,2),d=p[0],f=p[1],b=function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getAllUsers();case 2:(t=e.sent).success&&(o(t.data),f(t.data),u(!1)),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b()}),[]);var g=function(){var e=Object(R.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.deleteUser(t);case 2:if(!e.sent.success){e.next=8;break}return e.next=6,b();case 6:e.next=9;break;case 8:alert("User deletion failed");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?r.a.createElement(se,null):r.a.createElement(Re,Object.assign({},e,{container:{users:d,deleteUser:g,searchName:function(e){var t=e.target.value;if(t.length>0){var a=Object(Ee.filter)(c,(function(e){return function(e,t){var a=new RegExp(t,"i");return e.match(a)}(e.name,t)}));f(a)}else f(c)}}}))},Ge=function(){return r.a.createElement(me,null,He)},Ve=a(525),_e=a(23),Ye=a(522),$e=Object(u.a)((function(){return{root:{}}})),Je=function(e){var t=e.className,a=e.bugStats,n=Object(P.a)(e,["className","bugStats"]),c=$e(),o=Object(_e.a)(),i={datasets:[{backgroundColor:b.a.indigo[500],data:[a.lowPr,a.mediumPr,a.highPr],label:"Tickets"}],labels:["Low","Medium","High"]},l={animation:!1,cornerRadius:5,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{barThickness:40,maxBarThickness:40,barPercentage:.5,categoryPercentage:.5,ticks:{fontColor:o.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:o.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:o.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:o.palette.divider}}]},tooltips:{backgroundColor:o.palette.background.default,bodyFontColor:o.palette.text.secondary,borderColor:o.palette.divider,borderWidth:1,enabled:!0,footerFontColor:o.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:o.palette.text.primary}};return r.a.createElement(we.a,Object.assign({className:Object(B.a)(c.root,t)},n),r.a.createElement(Ye.a,{title:"Tickets"}),r.a.createElement(O.a,null),r.a.createElement(De.a,null,r.a.createElement(j.a,{height:400,position:"relative"},r.a.createElement(f.Bar,{data:i,options:l}))),r.a.createElement(O.a,null),r.a.createElement(j.a,{display:"flex",justifyContent:"flex-end",p:2}))},Ze=a(523),Ke=a(524),Qe=Object(u.a)((function(){return{root:{height:"100%"}}})),Xe=function(e){var t=e.className,a=e.bugStats,n=Object(P.a)(e,["className","bugStats"]),c=Qe(),o=Object(_e.a)(),i={animation:!1,cutoutPercentage:80,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:o.palette.background.default,bodyFontColor:o.palette.text.secondary,borderColor:o.palette.divider,borderWidth:1,enabled:!0,footerFontColor:o.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:o.palette.text.primary}},l={datasets:[{data:[a.fixed,a.notFixed],backgroundColor:[b.a.indigo[500],b.a.red[600]],borderWidth:8,borderColor:b.a.common.white,hoverBorderColor:b.a.common.white}],labels:["Fixed","Not Fixed"]},s=[{title:"Fixed",value:a.fixed,icon:Ze.a,color:b.a.indigo[500]},{title:"Not Fixed",value:a.notFixed,icon:Ke.a,color:b.a.red[600]}];return r.a.createElement(we.a,Object.assign({className:Object(B.a)(c.root,t)},n),r.a.createElement(Ye.a,{title:"Bug Circle"}),r.a.createElement(O.a,null),r.a.createElement(De.a,null,r.a.createElement(j.a,{height:300,position:"relative"},r.a.createElement(f.Doughnut,{data:l,options:i})),r.a.createElement(j.a,{display:"flex",justifyContent:"center",mt:2},s.map((function(e){var t=e.color,a=e.icon,n=e.title,c=e.value;return r.a.createElement(j.a,{key:n,p:1,textAlign:"center"},r.a.createElement(a,{color:"action"}),r.a.createElement(k.a,{color:"textPrimary",variant:"body1"},n),r.a.createElement(k.a,{style:{color:t},variant:"h2"},c))})))))},et=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),tt=function(e){var t=et(),a=e.container;return a.bugStats?r.a.createElement(ye,{className:t.root,title:"Dashboard"},r.a.createElement(xe.a,{maxWidth:!1},r.a.createElement(Ve.a,{container:!0,spacing:3},r.a.createElement(Ve.a,{item:!0,lg:4,md:6,xl:3,xs:12},r.a.createElement(Xe,{bugStats:a.bugStats})),r.a.createElement(Ve.a,{item:!0,lg:8,md:12,xl:9,xs:12},r.a.createElement(Je,{bugStats:a.bugStats}))))):r.a.createElement(k.a,null,"No data to display")},at=function(e){var t=Object(n.useState)(!1),a=Object(E.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!0),l=Object(E.a)(i,2),s=l[0],u=l[1],m=function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getAllBugStats();case 2:(t=e.sent)&&t.success?o(t.data):alert("Problem occured while fetching data"),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u(!0),m()}),[]),s?r.a.createElement(se,null):r.a.createElement(tt,{container:{bugStats:c}})},nt=function(){return r.a.createElement(me,null,at)},rt=a(17),ct=a(45),ot=a(527),it=a(332),lt=a(526);function st(){var e=Object(re.a)(["\n  padding: 1em;\n  width:100%;\n  display:flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]);return st=function(){return e},e}var ut=oe.a.div(st()),mt=function(e){var t=e.model;return r.a.createElement(ut,null,r.a.createElement(we.a,{style:{width:"100%",maxWidth:400,padding:"1em"}},r.a.createElement(k.a,{variant:"h2",gutterBottom:!0},"Demo user login"),r.a.createElement(k.a,{variant:"body1",gutterBottom:!0},"Select a role"),r.a.createElement(Ie.a,{select:!0,fullWidth:!0,onChange:t.setRole,value:t.roleIndex,variant:"outlined"},t.roles.map((function(e,t){return r.a.createElement(lt.a,{key:e.title,value:t},e.title)}))),t.loading?r.a.createElement(ce.a,{size:"1em",style:{marginTop:"1em"}}):r.a.createElement(D.a,{fullWidth:!0,color:"primary",variant:"contained",style:{marginTop:"1em"},onClick:t.handleSignin},"Sign In")))},pt=[{title:"admin",email:"admin-demo@bug.com",password:"anypass"},{title:"tester",email:"tester-demo@bug.com",password:"anypass"},{title:"projectManager",email:"projectManager-demo@bug.com",password:"anypass"},{title:"developer",email:"developer-demo@bug.com",password:"anypass"}],dt=function(e){var t=Object(n.useState)(0),a=Object(E.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),s=Object(E.a)(i,2),u=s[0],m=s[1],p=Object(l.g)(),d=pt[c],f=function(){var e=Object(R.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,te.signin(d.email,d.password);case 3:e.sent.success?p("/app/dashboard"):(m(!1),alert("Login failed"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(mt,Object.assign({},e,{model:{role:d,roleIndex:c,roles:pt,setRole:function(e){o(e.target.value)},loading:u,handleSignin:f}}))},ft=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),bt=function(e){var t=ft(),a=e.model;return r.a.createElement(ye,{className:t.root,title:"Login"},r.a.createElement(j.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},r.a.createElement(xe.a,{maxWidth:"sm"},r.a.createElement(ct.a,{initialValues:{email:"",password:""},validationSchema:rt.c().shape({email:rt.d().email("Must be a valid email").max(255).required("Email is required"),password:rt.d().max(255).required("Password is required")}),onSubmit:function(e){a.handleSignIn(e)}},(function(e){var t=e.errors,n=e.handleBlur,c=e.handleChange,o=e.handleSubmit,l=e.isSubmitting,s=e.touched,u=e.values;return r.a.createElement("form",{onSubmit:o},r.a.createElement(j.a,{mb:3},r.a.createElement(k.a,{color:"textPrimary",variant:"h2"},"Sign in"),r.a.createElement(k.a,{align:"center",color:"textSecondary",variant:"body1"},"Login with email and password")),r.a.createElement(Ie.a,{error:Boolean(s.email&&t.email),fullWidth:!0,helperText:s.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:n,onChange:c,type:"email",value:u.email,variant:"outlined"}),r.a.createElement(Ie.a,{error:Boolean(s.password&&t.password),fullWidth:!0,helperText:s.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:n,onChange:c,type:"password",value:u.password,variant:"outlined"}),r.a.createElement(j.a,{my:2},r.a.createElement(D.a,{color:"primary",disabled:l,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign in now")),r.a.createElement(j.a,{my:2},r.a.createElement(D.a,{color:"primary",disabled:l,fullWidth:!0,size:"large",variant:"contained",onClick:a.setDemoUserModalToOpen},"Sign in as Demo User")),r.a.createElement(k.a,{color:"textSecondary",variant:"body1"},"Don't have an account?"," ",r.a.createElement(ot.a,{component:i.b,to:"/register",variant:"h6"},"Sign up"),r.a.createElement(it.a,{open:a.open,onClose:a.setDemoUserModalToClose,style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(dt,null))))})))))},gt=function(e){var t=Object(l.g)(),a=Object(n.useState)(!1),c=Object(E.a)(a,2),o=c[0],i=c[1],s=function(){var e=Object(R.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.signin(a.email,a.password);case 2:n=e.sent,alert("Server is running on Heroku. It will take about 30 sec for first sign in"),n.success?t("/app/dashboard"):alert("Failed to signin");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(bt,Object.assign({},e,{model:{open:o,setDemoUserModalToClose:function(){i(!1)},setDemoUserModalToOpen:function(){i(!0)},handleSignIn:s}}))},ht=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),vt=function(){var e=ht();return r.a.createElement(ye,{className:e.root,title:"404"},r.a.createElement(j.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},r.a.createElement(xe.a,{maxWidth:"md"},r.a.createElement(k.a,{align:"center",color:"textPrimary",variant:"h1"},"404: The page you are looking for isn\u2019t here"),r.a.createElement(k.a,{align:"center",color:"textPrimary",variant:"subtitle2"},"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"),r.a.createElement(j.a,{textAlign:"center"},r.a.createElement("img",{alt:"Under development",className:e.image,src:"/static/images/undraw_page_not_found_su7k.svg"})))))},Et=a(528),xt=a(529);function jt(){var e=Object(re.a)(["\n  @media only screen and (max-width:480px){\n    display:none;\n  }\n"]);return jt=function(){return e},e}oe.a.div(jt());var yt=function(e){var t=e.project,a=(e.deleteProject,e.navigateToProject);e.navigateToDetails;return r.a.createElement(W.a,{button:!0,onClick:function(){a(t)}},r.a.createElement(Et.a,null,r.a.createElement(y.a,null,t.name[0])),r.a.createElement(xt.a,null,r.a.createElement(k.a,{gutterBottom:!0,variant:"h4",style:{fontWeight:"normal"}},t.name),r.a.createElement(k.a,null,r.a.createElement("b",null,"Bugs")," ",t.bugs),r.a.createElement(k.a,null,r.a.createElement("b",null,"Fixed")," ",t.fixed)),r.a.createElement(xt.a,{style:{marginLeft:"1em"}},r.a.createElement(k.a,null,t.description)))},kt=function(e){var t=e.projects,a=e.deleteProject,n=e.navigateToProject,c=e.navigateToDetails;return r.a.createElement(w.a,null,t.map((function(e){return r.a.createElement(yt,{project:e,deleteProject:a,navigateToProject:n,navigateToDetails:c})})))},Ot=function(e){var t=e.container,a="admin"===t.currentUser.role||"projectManager"===t.currentUser.role;return r.a.createElement(xe.a,{maxWidth:!1,style:{marginTop:"1em"}},a&&r.a.createElement(D.a,{onClick:t.navigateToAddProject,variant:"contained",color:"primary",style:{marginBottom:"1em"}},"Add new Project"),r.a.createElement(we.a,null,t.projects.length>0?r.a.createElement(kt,{projects:t.projects,deleteProject:t.deleteProject,navigateToProject:t.navigateToProject,navigateToDetails:t.navigateToDetails}):r.a.createElement(k.a,{style:{margin:"1em"}},"No Project available")))},wt=function(e){var t=Object(l.g)(),a=Object(n.useState)([]),c=Object(E.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(!0),u=Object(E.a)(s,2),m=u[0],p=u[1],d=e.currentUser,f=function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getAllProjects();case 2:(t=e.sent).success&&i(t.data),p(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){f()}),[]);var b=function(){var e=Object(R.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.deleteProject(t);case 2:if(!e.sent.success){e.next=9;break}return p(!0),e.next=7,f();case 7:e.next=11;break;case 9:p(!1),alert("Deletion failed");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m?r.a.createElement(se,null):r.a.createElement(Ot,{container:{projects:o,deleteProject:b,navigateToProject:function(e){t("/app/projects/project",{state:{project:e}})},navigateToDetails:function(e){t("/app/project",{state:{project:e}})},navigateToAddProject:function(){t("/app/addproject",{replace:!0})},currentUser:d}})},Tt=function(){return r.a.createElement(me,null,wt)},Ct=a(533),St=a(478),Nt=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Ut=function(e){var t=Nt(),a=e.model;return r.a.createElement(ye,{className:t.root,title:"Register"},r.a.createElement(j.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},r.a.createElement(xe.a,{maxWidth:"sm"},r.a.createElement(ct.a,{initialValues:{email:"",firstName:"",lastName:"",password:"",policy:!1},validationSchema:rt.c().shape({email:rt.d().email("Must be a valid email").max(255).required("Email is required"),firstName:rt.d().max(255).required("First name is required"),lastName:rt.d().max(255).required("Last name is required"),password:rt.d().max(255).required("password is required"),policy:rt.a().oneOf([!0],"This field must be checked"),role:rt.b().required("Please make a selection")}),onSubmit:function(e){a.handleSignupSubmit(e)}},(function(e){var t=e.errors,n=e.handleBlur,c=e.handleChange,o=e.handleSubmit,l=e.isSubmitting,s=e.touched,u=e.values;return r.a.createElement("form",{onSubmit:o},r.a.createElement(j.a,{mb:3},r.a.createElement(k.a,{color:"textPrimary",variant:"h2"},"Create new account"),r.a.createElement(k.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"Use your email to create new account")),r.a.createElement(Ie.a,{error:Boolean(s.firstName&&t.firstName),fullWidth:!0,helperText:s.firstName&&t.firstName,label:"First name",margin:"normal",name:"firstName",onBlur:n,onChange:c,value:u.firstName,variant:"outlined"}),r.a.createElement(Ie.a,{error:Boolean(s.lastName&&t.lastName),fullWidth:!0,helperText:s.lastName&&t.lastName,label:"Last name",margin:"normal",name:"lastName",onBlur:n,onChange:c,value:u.lastName,variant:"outlined"}),r.a.createElement(Ie.a,{error:Boolean(s.role&&t.role),select:!0,fullWidth:!0,helperText:s.role&&t.role,label:"Role",name:"role",margin:"normal",onBlur:n,onChange:c,value:u.role,variant:"outlined"},a.roles.map((function(e,t){return r.a.createElement(lt.a,{key:e.title,value:t},e.title)}))),r.a.createElement(Ie.a,{error:Boolean(s.email&&t.email),fullWidth:!0,helperText:s.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:n,onChange:c,type:"email",value:u.email,variant:"outlined"}),r.a.createElement(Ie.a,{error:Boolean(s.password&&t.password),fullWidth:!0,helperText:s.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:n,onChange:c,type:"password",value:u.password,variant:"outlined"}),r.a.createElement(j.a,{alignItems:"center",display:"flex",ml:-1},r.a.createElement(Ct.a,{checked:u.policy,name:"policy",onChange:c}),r.a.createElement(k.a,{color:"textSecondary",variant:"body1"},"I have read the"," ",r.a.createElement(ot.a,{color:"primary",component:i.b,to:"#",underline:"always",variant:"h6"},"Terms and Conditions"))),Boolean(s.policy&&t.policy)&&r.a.createElement(St.a,{error:!0},t.policy),r.a.createElement(j.a,{my:2},a.loading?r.a.createElement(ce.a,{size:"1em"}):r.a.createElement(D.a,{color:"primary",disabled:l,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign up now")),r.a.createElement(k.a,{color:"textSecondary",variant:"body1"},"Have an account?"," ",r.a.createElement(ot.a,{component:i.b,to:"/login",variant:"h6"},"Sign in")))})))))},Pt=function(e){var t=Object(l.g)(),a=Object(n.useState)(!1),c=Object(E.a)(a,2),o=c[0],i=c[1],s=function(){var e=Object(R.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,te.signup({accountData:{name:a.firstName,email:a.email,password:a.password,role:pt[a.role].title},userSpecificData:{}});case 3:if(n=e.sent,e.t0=n.success,!e.t0){e.next=9;break}return e.next=8,te.signin(a.email,a.password);case 8:e.t0=e.sent;case 9:e.t0.success?t("/app/dashboard"):(alert("Failed to sign in"),i(!1));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ut,Object.assign({},e,{model:{roles:pt,handleSignupSubmit:s,loading:o}}))};function Bt(){var e=Object(re.a)(["\n  margin-top:1em;\n"]);return Bt=function(){return e},e}var Wt=oe.a.div(Bt()),Dt=function(e){var t=e.title,a=e.label;return r.a.createElement(Wt,null,r.a.createElement(k.a,{variant:"body2",style:{fontWeight:"bold"}},t),r.a.createElement(k.a,{variant:"body1"},a))},It=function(e){var t=e.container;return r.a.createElement(we.a,{style:{height:"100%"}},r.a.createElement(De.a,null,r.a.createElement(k.a,{variant:"h1"},"Project Details"),r.a.createElement(Dt,{title:"Project",label:t.project.name}),r.a.createElement(Dt,{title:"Description",label:t.project.description})))},Ft=function(e){var t=e.project;return r.a.createElement(It,Object.assign({},e,{container:{project:t}}))},At=function(e){var t=e.container;return r.a.createElement(we.a,{style:{height:"100%"}},r.a.createElement(De.a,null,r.a.createElement(k.a,{variant:"h1"},"People"),r.a.createElement(Oe.a,null,r.a.createElement(Te.a,null,r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(Ne.a,null,"Name"),r.a.createElement(Ne.a,null,"Email"),r.a.createElement(Ne.a,null,"Role"))),r.a.createElement(Ue.a,null,t.users.map((function(e){return r.a.createElement(Se.a,{key:e.id},r.a.createElement(Ne.a,null,e.name),r.a.createElement(Ne.a,null,e.email),r.a.createElement(Ne.a,null,e.role))})))))))},Lt=function(e){var t=e.project,a=Object(n.useState)([]),c=Object(E.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(!0),s=Object(E.a)(l,2),u=s[0],m=s[1],p=function(){var e=Object(R.a)(z.a.mark((function e(){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getProjectUsersFromApi(t.id);case 2:(a=e.sent).success&&i(a.data),m(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p()}),[]),u?r.a.createElement(se,null):r.a.createElement(At,Object.assign({},e,{container:{project:t,users:o}}))},qt=Object(u.a)((function(e){return{root:{},avatar:{marginRight:e.spacing(2)}}})),Mt=function(e){var t=e.completeTicket,a=e.handleTicketClick,n=e.className,c=e.tickets,o=e.currentUser,i=Object(P.a)(e,["completeTicket","handleTicketClick","className","tickets","currentUser"]),l=qt(),s=function(e){return"true"===e.completed||"developer"===o.role};return r.a.createElement(we.a,Object.assign({className:Object(B.a)(l.root,n)},i),r.a.createElement(Oe.a,null,r.a.createElement(j.a,{minWidth:1050},c.length<1?r.a.createElement(k.a,{variant:"body1",style:{marginLeft:"1em"}},"No ticket available"):r.a.createElement(Te.a,null,r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(Ne.a,null,"Problem"),r.a.createElement(Ne.a,null,"Priority"),r.a.createElement(Ne.a,null,"Description"),r.a.createElement(Ne.a,null,"Completed"))),r.a.createElement(Ue.a,null,c.map((function(e){return r.a.createElement(Se.a,{hover:!0,key:e.id},r.a.createElement(Ne.a,null,r.a.createElement(j.a,{alignItems:"center",display:"flex"},r.a.createElement(ot.a,{variant:"body1",component:"button",onClick:function(){a(e)}},e.problem))),r.a.createElement(Ne.a,null,e.priority),r.a.createElement(Ne.a,null,e.description),r.a.createElement(Ne.a,null,r.a.createElement(Ct.a,{onClick:function(){t(e.id)},disabled:s(e),checked:"true"===e.completed})))})))))))},zt=Object(u.a)((function(e){return{root:{},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)}}})),Rt=function(e){var t=e.navigateToNewTicket,a=e.handleFindChange,n=e.className,c=Object(P.a)(e,["navigateToNewTicket","handleFindChange","className"]),o=zt();return r.a.createElement("div",Object.assign({className:Object(B.a)(o.root,n)},c),r.a.createElement(j.a,{mt:3},r.a.createElement(we.a,null,r.a.createElement(De.a,null,r.a.createElement(j.a,{maxWidth:500},r.a.createElement(Ie.a,{onChange:a,fullWidth:!0,InputProps:{startAdornment:r.a.createElement(Fe.a,{position:"start"},r.a.createElement(Ae.a,{fontSize:"small",color:"action"},r.a.createElement(Le.a,null)))},placeholder:"Search Ticket",variant:"outlined"}),r.a.createElement(D.a,{onClick:t,color:"primary",variant:"contained",style:{marginTop:"1em"}},"Add new Ticket"))))))},Ht=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Gt=function(e){var t=Ht(),a=e.container;return r.a.createElement(ye,{className:t.root,title:"Tickets"},r.a.createElement(xe.a,{maxWidth:!1},r.a.createElement(Ve.a,{container:!0,spacing:4},r.a.createElement(Ve.a,{item:!0,xs:12,md:6},r.a.createElement(Ft,{project:a.project})),r.a.createElement(Ve.a,{item:!0,xs:12,md:6},r.a.createElement(Lt,{project:a.project}))),r.a.createElement(Rt,{handleFindChange:a.searchName,navigateToNewTicket:a.navigateToNewTicket}),r.a.createElement(j.a,{mt:3},r.a.createElement(Mt,{tickets:a.tickets,handleTicketClick:a.handleTicketClick,completeTicket:a.completeTicket,currentUser:a.currentUser}))))},Vt=function(e){var t=Object(l.g)(),a=Object(l.f)(),c=Object(n.useState)([]),o=Object(E.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(!0),m=Object(E.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)([]),b=Object(E.a)(f,2),g=b[0],h=b[1],v=a.state.project,x=e.currentUser,j=function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getCurrentUserTickets(v.id);case 2:(t=e.sent).success&&(s(t.data),h(t.data),d(!1)),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){j()}),[]);var y=function(){var e=Object(R.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.completeTicket(t);case 2:if(!(a=e.sent)||!a.success){e.next=6;break}return e.next=6,j();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p?r.a.createElement(se,null):r.a.createElement(Gt,Object.assign({},e,{container:{tickets:g,searchName:function(e){var t=e.target.value;if(t.length>0){var a=Object(Ee.filter)(i,(function(e){return function(e,t){var a=new RegExp(t,"i");return e.match(a)}(e.problem,t)}));h(a)}else h(i)},handleTicketClick:function(e){t("/app/ticket",{state:{ticket:e},replace:!0})},project:v,navigateToNewTicket:function(){t("/app/addticket",{state:{project:v}})},completeTicket:y,currentUser:x}}))},_t=function(){return r.a.createElement(me,null,Vt)},Yt=function(e){var t=e.ticket,a=e.submitForm,n=e.users,c=e.initialUser,o=e.newUserSubmitLoading,i=e.currentUser;console.log(i);return r.a.createElement(we.a,{style:{height:"100%"}},r.a.createElement(De.a,null,r.a.createElement(k.a,{variant:"h1"},"Ticket Details"),r.a.createElement(Ve.a,{container:!0,style:{marginTop:"1em"}},r.a.createElement(Ve.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt,{title:"Problem",label:t.problem}),r.a.createElement(Dt,{title:"Description",label:t.description})),r.a.createElement(Ve.a,{item:!0,xs:12,sm:6},r.a.createElement(Dt,{title:"Priority",label:t.priority}),r.a.createElement(Dt,{title:"Completed",label:"true"===t.completed?"Yes":"No"}))),r.a.createElement(ct.a,{initialValues:{user:""},validationSchema:rt.c().shape({user:rt.b().required("Selection required")}),onSubmit:function(e){a(e)}},(function(e){var a=e.handleChange,l=e.handleSubmit,s=e.errors,u=e.touched,m=e.values,p=e.handleBlur;return r.a.createElement("form",{onSubmit:l},r.a.createElement(k.a,{variant:"subtitle2",style:{marginTop:"1em",marginBottom:"0.4em"}},"Assigned User"),r.a.createElement(Ie.a,{select:!0,fullWidth:!0,disabled:"developer"===i.role||"tester"===i.role||"true"===t.completed,onChange:a,error:Boolean(u.user&&s.user),helperText:u.user&&s.user,name:"user",label:""===m.user?"".concat(c.name,"(").concat(c.role,")"):"Assigned User",margin:"none",onBlur:p,value:m.user,variant:"outlined"},n.map((function(e,t){return r.a.createElement(lt.a,{key:e.id,value:t},"".concat(e.name," (").concat(e.role,")"))}))),o?r.a.createElement(ce.a,{size:"1em",style:{marginTop:"1em"}}):r.a.createElement(D.a,{variant:"contained",color:"primary",type:"submit",disabled:""===m.user,style:{marginTop:"1em"}},"Save"))}))))},$t=function(e){var t=e.comment;return r.a.createElement(W.a,null,r.a.createElement(Et.a,null,r.a.createElement(y.a,null,t.username[0])),r.a.createElement(xt.a,null,r.a.createElement(Dt,{title:t.username,label:t.text})))};function Jt(){var e=Object(re.a)(["\n  max-height: 400px;\n  overflow-y: scroll;\n  scrollbar-width:none;\n"]);return Jt=function(){return e},e}function Zt(){var e=Object(re.a)(["\n  display:flex;\n  margin-top: 1em;\n  justify-contents:center;\n"]);return Zt=function(){return e},e}var Kt=oe.a.form(Zt()),Qt=oe.a.div(Jt()),Xt=function(e){var t=e.container,a="true"===t.ticket.completed;return r.a.createElement(we.a,{style:{height:"100%"}},r.a.createElement(De.a,null,r.a.createElement(k.a,{variant:"h1"},"Comments"),r.a.createElement(Kt,{onSubmit:t.submitComment},r.a.createElement(Ie.a,{fullWidth:!0,variant:"outlined",placeholder:"Write comment here..",color:"primary",onChange:t.changeCommentValue,value:t.commentField,error:t.commentError,disabled:t.addLoading||a}),t.addLoading?r.a.createElement(ce.a,{size:40,style:{marginLeft:"0.4em"}}):r.a.createElement(D.a,{disabled:a,style:{marginLeft:"0.4em"},variant:"contained",type:"submit",color:"primary"},"Add")),r.a.createElement(Qt,null,t.comments.length>0?r.a.createElement(w.a,null,t.comments.map((function(e){return r.a.createElement($t,{comment:e})}))):r.a.createElement(k.a,null,"No available comments"))))},ea=function(e){var t=e.ticket,a=Object(n.useState)(!0),c=Object(E.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(!1),s=Object(E.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)([]),d=Object(E.a)(p,2),f=d[0],b=d[1],g=Object(n.useState)(!1),h=Object(E.a)(g,2),v=h[0],x=h[1],j=Object(n.useState)(""),y=Object(E.a)(j,2),k=y[0],O=y[1],w=function(){var e=Object(R.a)(z.a.mark((function e(){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getCommentsForTicket(t.id);case 2:a=e.sent,console.log(a),a.success&&b(a.data),i(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){w()}),[]);var T=function(){var e=Object(R.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(k.length>0)){e.next=16;break}return m(!0),x(!1),O(""),e.next=7,te.addCommentToTicket({ticketId:t.id,text:k});case 7:if(!e.sent.success){e.next=13;break}return e.next=11,w();case 11:e.next=14;break;case 13:alert("Comment add failed");case 14:e.next=17;break;case 16:x(!0);case 17:m(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(se,null):r.a.createElement(Xt,Object.assign({},e,{container:{comments:f,changeCommentValue:function(e){O(e.target.value)},commentField:k,submitComment:T,addLoading:u,commentError:v,ticket:t}}))},ta=a(534),aa=a(530);function na(){var e=Object(re.a)(["\n  height: 140px;\n  margin-right:0.5em;\n  margin-top: 0.5em;\n  transition: box-shadow 0.2s ease-in;\n  &:hover{\n    cursor:pointer;\n    box-shadow: 3px 3px 6px rgba(0,0,0,0.4);\n  }\n"]);return na=function(){return e},e}var ra=oe.a.img(na()),ca=function(e){var t=e.container;return r.a.createElement("div",null,r.a.createElement(we.a,null,r.a.createElement(De.a,null,r.a.createElement(k.a,{variant:"h1"},"Attachments"),t.attachLoading?r.a.createElement(ce.a,{size:20}):r.a.createElement(ta.a,{onChange:t.uploadImg,multiple:!1},r.a.createElement(V.a,null,r.a.createElement(aa.a,null))),r.a.createElement(j.a,{display:"flex",flexWrap:"wrap"},t.attachments.length>0?t.attachments.map((function(e){return r.a.createElement(ra,{src:e,onClick:function(){t.openImage(e)}})})):r.a.createElement(k.a,null,"No attachment available"))),r.a.createElement(it.a,{open:t.imageOpen,onClose:t.closeImage,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}},r.a.createElement("img",{style:{maxWidth:"90%",maxHeight:"90%"},src:t.openedImage,alt:"attachment"}))))},oa=function(e){var t=e.ticket,a=Object(n.useState)(!0),c=Object(E.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(!1),s=Object(E.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)([]),d=Object(E.a)(p,2),f=d[0],b=d[1],g=Object(n.useState)(!1),h=Object(E.a)(g,2),v=h[0],x=h[1],j=Object(n.useState)(""),y=Object(E.a)(j,2),k=y[0],O=y[1],w=function(){var e=Object(R.a)(z.a.mark((function e(){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getImagesForTicket(t.id);case 2:(a=e.sent).success&&b(a.data),i(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){w()}),[]);var T=function(){var e=Object(R.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),(n=new FormData).append("ticketId",t.id),n.append("file",a[0]),e.next=6,te.attachImgToTicket(n);case 6:if(!e.sent.success){e.next=12;break}return e.next=10,w();case 10:e.next=13;break;case 12:alert("Image upload failed");case 13:m(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(se,null):r.a.createElement(ca,Object.assign({},e,{container:{attachments:f,imageOpen:v,openedImage:k,openImage:function(e){O(e),x(!0)},closeImage:function(){x(!1)},uploadImg:T,attachLoading:u}}))},ia=function(e){var t=e.user,a=e.handleDelete,n="developer"!==t.role;return r.a.createElement(we.a,null,r.a.createElement(De.a,null,n&&r.a.createElement(D.a,{onClick:a},"Delete Ticket")))},la=function(e){var t=e.container;return r.a.createElement(xe.a,{style:{marginTop:"1em"}},r.a.createElement(Ve.a,{container:!0,spacing:2},r.a.createElement(Ve.a,{item:!0,xs:12},r.a.createElement(ia,{user:t.currentUser,handleDelete:t.deleteThisTicket})),r.a.createElement(Ve.a,{item:!0,xs:12,md:6},r.a.createElement(Yt,{ticket:t.ticket,users:t.users,submitForm:t.changeTicketUser,initialUser:t.currentlyAssingedUser,newUserSubmitLoading:t.newUserSubmitLoading,currentUser:t.currentUser})),r.a.createElement(Ve.a,{item:!0,xs:12,md:6},r.a.createElement(ea,{ticket:t.ticket})),r.a.createElement(Ve.a,{item:!0,xs:12,md:12},r.a.createElement(oa,{ticket:t.ticket}))))},sa=a(2),ua=function(e){var t=Object(l.f)(),a=Object(l.g)(),c=t.state.ticket,o=e.currentUser,i=Object(n.useState)(!0),s=Object(E.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)([]),d=Object(E.a)(p,2),f=d[0],b=d[1],g=Object(n.useState)(!1),h=Object(E.a)(g,2),v=h[0],x=h[1],j=function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getProjectUsersFromApi(c.projectid);case 2:(t=e.sent).success?b(t.data):alert("Invalid ticket"),m(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){if(f.length>0)return Object(Ee.find)(f,{id:c.userid})}();Object(n.useEffect)((function(){j()}),[]);var k=function(){var e=Object(R.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,te.deleteTicket(c.id);case 3:e.sent.success?a("/app/projects",{replace:!0}):(m(!1),alert("Deletion failed"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(R.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),a=f[t.user].id,n={userId:a,ticketId:c.id},e.next=5,te.assignUserToTicket(n);case 5:e.sent.success?alert("Assigned user changed"):alert("Failed to assing user"),x(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u?r.a.createElement(se,null):r.a.createElement(la,Object.assign({},e,{container:{ticket:c,currentUser:o,deleteThisTicket:k,users:f,changeTicketUser:O,currentlyAssingedUser:y,newUserSubmitLoading:v}}))};ua.protTypes={currentUser:sa.object};var ma=function(){return r.a.createElement(me,null,ua)},pa=function(e){var t=e.container;return r.a.createElement("h1",null,"project: ".concat(t.project.id))},da=function(e){var t=Object(l.f)().state.project;return r.a.createElement(pa,Object.assign({},e,{container:{project:t}}))},fa=function(){return r.a.createElement(me,null,da)},ba=function(e){var t=e.submitForm;return r.a.createElement(we.a,null,r.a.createElement(De.a,null,r.a.createElement(k.a,{variant:"h1"},"Add new Project"),r.a.createElement(j.a,{maxWidth:"600px"},r.a.createElement(ct.a,{initialValues:{name:"",description:""},validationSchema:rt.c().shape({name:rt.d().max(255).required("Name is required"),description:rt.d().max(255).required("Description is required")}),onSubmit:function(e){t(e)}},(function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,c=e.handleSubmit,o=e.isSubmitting,i=e.touched,l=e.values;return r.a.createElement("form",{onSubmit:c},r.a.createElement(Ie.a,{error:Boolean(i.name&&t.name),fullWidth:!0,helperText:i.name&&t.name,label:"Project name",margin:"normal",name:"name",onBlur:a,onChange:n,value:l.name,variant:"outlined"}),r.a.createElement(Ie.a,{error:Boolean(i.description&&t.description),fullWidth:!0,multiline:!0,rows:"4",helperText:i.description&&t.description,label:"Description",margin:"normal",name:"description",onBlur:a,onChange:n,value:l.description,variant:"outlined"}),r.a.createElement(D.a,{type:"submit",variant:"contained",color:"primary",disabled:o},"Next"))})))))},ga=function(e){var t=e.users,a=e.selectUser,n=e.userLoading,c=e.submitProject,o=e.submitLoading;return n?r.a.createElement(se,null):r.a.createElement(we.a,{style:{marginTop:"1em"}},r.a.createElement(De.a,null,r.a.createElement(k.a,{variant:"h1"},"Attach People to Project"),r.a.createElement(Oe.a,null,r.a.createElement(Te.a,null,r.a.createElement(Ce.a,null,r.a.createElement(Se.a,null,r.a.createElement(Ne.a,null,"Selected"),r.a.createElement(Ne.a,null,"Name"),r.a.createElement(Ne.a,null,"Role"))),r.a.createElement(Ue.a,null,t.map((function(e,t){return r.a.createElement(Se.a,null,r.a.createElement(Ne.a,null,r.a.createElement(Ct.a,{checked:e.selected,onChange:function(){a(t)}})),r.a.createElement(Ne.a,null,e.name),r.a.createElement(Ne.a,null,e.role))}))))),o?r.a.createElement(ce.a,{size:"1em",style:{marginTop:"1em"}}):r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:c,style:{marginTop:"1em"}},"Add Now")))},ha=function(e){var t=e.container;return r.a.createElement(xe.a,{style:{marginTop:"1em",marginBottom:"1em"}},r.a.createElement(ba,{submitForm:t.submitForm}),t.formDone&&r.a.createElement(ga,{users:t.users,selectUser:t.selectUser,userLoading:t.userLoading,submitProject:t.submitProject,submitLoading:t.submitLoading}))},va=function(){var e=Object(l.g)(),t=Object(n.useState)(!0),a=Object(E.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)([]),s=Object(E.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(E.a)(p,2),f=d[0],b=d[1],g=Object(n.useState)({}),h=Object(E.a)(g,2),v=h[0],x=h[1],j=Object(n.useState)(!1),y=Object(E.a)(j,2),k=y[0],O=y[1],w=function(){var e=Object(R.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getAllUsers();case 2:(t=e.sent).success&&m(t.data),o(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){w()}),[]);var T=function(){var t=Object(R.a)(z.a.mark((function t(){var a,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O(!0),!((a={project:v,users:Object(Ee.filter)(u,{selected:!0}).map((function(e){return e.id}))}).users.length>0)){t.next=8;break}return t.next=5,te.addNewProject(a);case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=alert("You have to select at least one person");case 9:(n=t.t0)&&n.success?e("/app/projects/project",{state:{project:n.data},replace:!0}):alert("Project addition failed"),O(!1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(ha,{container:{formDone:f,submitForm:function(e){x(e),b(!0)},selectUser:function(e){var t=u[e];t.selected=!t.selected;var a=u;a[e]=t,m(a)},users:u,userLoading:c,submitProject:T,submitLoading:k}})},Ea=function(){return r.a.createElement(me,null,va)},xa=function(e){var t=e.container;return r.a.createElement(xe.a,{style:{marginTop:"1em",marginBottom:"1em"}},r.a.createElement(we.a,null,r.a.createElement(De.a,null,r.a.createElement(k.a,{variant:"h1"},"Add new ticket"),r.a.createElement(j.a,{maxWidth:"600px"},r.a.createElement(ct.a,{initialValues:{name:"",description:"",priority:"",userIndex:""},validationSchema:rt.c().shape({name:rt.d().max(255).required("Name is required"),description:rt.d().max(255).required("Description is required"),priority:rt.b().required("Please make a selection"),userIndex:rt.b().required("Please make a selection")}),onSubmit:function(e){t.submitForm(e)}},(function(e){var a=e.errors,n=e.handleBlur,c=e.handleChange,o=e.handleSubmit,i=e.isSubmitting,l=e.touched,s=e.values;return r.a.createElement("form",{onSubmit:o},r.a.createElement(Ie.a,{error:Boolean(l.name&&a.name),fullWidth:!0,helperText:l.name&&a.name,label:"Project name",margin:"normal",name:"name",onBlur:n,onChange:c,value:s.name,variant:"outlined"}),r.a.createElement(Ie.a,{error:Boolean(l.description&&a.description),fullWidth:!0,multiline:!0,rows:"4",helperText:l.description&&a.description,label:"Description",margin:"normal",name:"description",onBlur:n,onChange:c,value:s.description,variant:"outlined"}),r.a.createElement(Ie.a,{error:Boolean(l.priority&&a.priority),fullWidth:!0,select:!0,helperText:l.priority&&a.priority,label:"Ticket priority",margin:"normal",name:"priority",onBlur:n,onChange:c,value:s.priority,variant:"outlined"},t.priorities.map((function(e,t){return r.a.createElement(lt.a,{key:e,value:t},e)}))),r.a.createElement(Ie.a,{error:Boolean(l.userIndex&&a.userIndex),fullWidth:!0,select:!0,helperText:l.userIndex&&a.userIndex,label:"Assign User",margin:"normal",name:"userIndex",onBlur:n,onChange:c,value:s.userIndex,variant:"outlined"},t.users.map((function(e,t){return r.a.createElement(lt.a,{key:e.id,value:t},"".concat(e.name,"(").concat(e.role,")"))}))),t.addLoading?r.a.createElement(ce.a,{size:"1em"}):r.a.createElement(D.a,{type:"submit",variant:"contained",color:"primary",disabled:i},"Add"))}))))))},ja=["high","medium","low"],ya=function(){var e=Object(l.f)(),t=Object(l.g)(),a=e.state.project,c=Object(n.useState)([]),o=Object(E.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)(!1),m=Object(E.a)(u,2),p=m[0],d=m[1],f=Object(n.useState)(!0),b=Object(E.a)(f,2),g=b[0],h=b[1],v=function(){var e=Object(R.a)(z.a.mark((function e(){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.getProjectUsersFromApi(a.id);case 2:(n=e.sent).success?s(n.data):(alert("Invalid Project"),t("/app/projects")),h(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[]);var x=function(){var e=Object(R.a)(z.a.mark((function e(n){var r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),r={problem:n.name,description:n.description,priority:ja[n.priority],userId:i[n.userIndex].id,projectId:a.id,completed:!1},e.next=4,te.addNewTicket(r);case 4:(c=e.sent)&&c.success?t("/app/ticket",{state:{ticket:c.data}}):alert("ticket could not be created"),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return g?r.a.createElement(se,null):r.a.createElement(xa,{container:{users:i,priorities:ja,submitForm:x,addLoading:p}})},ka=function(){return r.a.createElement(me,null,ya)},Oa=[{path:"app",element:r.a.createElement(fe,null),children:[{path:"addproject",element:r.a.createElement(Ea,null),exact:!0},{path:"addticket",element:r.a.createElement(ka,null),exact:!0},{path:"customers",element:r.a.createElement(Ge,null),exact:!0},{path:"dashboard",element:r.a.createElement(nt,null),exact:!0},{path:"project",element:r.a.createElement(fa,null),exact:!0},{path:"projects",element:r.a.createElement(Tt,null),exact:!0},{path:"projects/project",element:r.a.createElement(_t,null),exact:!0},{path:"ticket",element:r.a.createElement(ma,null),exact:!0},{path:"*",element:r.a.createElement(l.a,{to:"/404"}),exact:!0}]},{path:"/",element:r.a.createElement(ve,null),children:[{path:"login",element:r.a.createElement(gt,null)},{path:"register",element:r.a.createElement(Pt,null)},{path:"404",element:r.a.createElement(vt,null)},{path:"/",element:r.a.createElement(l.a,{to:"/login"})},{path:"*",element:r.a.createElement(l.a,{to:"/404"})}]}],wa=function(){var e=Object(l.i)(Oa);return r.a.createElement(s.a,{theme:v},r.a.createElement(d,null),e)};o.a.render(r.a.createElement(i.a,null,r.a.createElement(wa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[338,1,2]]]);
//# sourceMappingURL=main.697d2650.chunk.js.map